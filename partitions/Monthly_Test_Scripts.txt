
/* Create main table to be partitioned */
CREATE TABLE STUDENT_MLY
 (STUDENT_ID NUMBER(8,0) NOT NULL
 ,SALUTATION VARCHAR2(5)
 ,FIRST_NAME VARCHAR2(25)
 ,LAST_NAME VARCHAR2(25)  NOT NULL
 ,STREET_ADDRESS VARCHAR2(50)
 ,ZIP VARCHAR2(5) NOT NULL
 ,PHONE VARCHAR2(15)
 ,EMPLOYER VARCHAR2(50)
 ,REGISTRATION_DATE DATE  NOT NULL
 ,CREATED_BY VARCHAR2(30) NOT NULL
 ,CREATED_DATE DATE  NOT NULL
 ,MODIFIED_BY VARCHAR2(30)  
 ,MODIFIED_DATE DATE  
 );
 

/***
Primay key on partition main table 
***/

ALTER TABLE STUDENT_MLY ADD CONSTRAINT STDTM_PK PRIMARY KEY (STUDENT_ID);


/***
Index on partition main table 
***/

CREATE INDEX STDTM_ZIP_IDX_I ON STUDENT_MLY (ZIP);

Execute the procedure:
EXEC MANAGE_PARTITIONS.setup_partitions ('PARTSRVC', 'STUDENT_MLY', 'STDTM', 'REGISTRATION_DATE', 'STUDENT_ID', 'STUDENT_MLY_VW', 'M', '2020-10-01', 3, 6, 'Y', 'N', 'Y');


SELECT * FROM STUDENT_MLY_VW;

INSERT INTO STUDENT_MLY_VW VALUES (20201114,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-150,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 
INSERT INTO STUDENT_MLY_VW VALUES (20201205,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-120,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

INSERT INTO STUDENT_MLY_VW VALUES (20210110,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-90,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 
INSERT INTO STUDENT_MLY_VW VALUES (20210112,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-50,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

INSERT INTO STUDENT_MLY_VW VALUES (20210221,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-20,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 
INSERT INTO STUDENT_MLY_VW VALUES (20210325,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

INSERT INTO STUDENT_MLY_VW VALUES (20210416,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE+50,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 
INSERT INTO STUDENT_MLY_VW VALUES (20210522,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE+75,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

INSERT INTO STUDENT_MLY_VW VALUES (20210620,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE+100,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

SELECT * FROM STUDENT_MLY_VW;

update STUDENT_MLY_VW set first_name = first_name || ' - UPDATED' where student_id = 20201205;

SELECT * FROM STUDENT_MLY_VW;

delete FROM STUDENT_MLY_VW where student_id = 20210112;

SELECT * FROM STUDENT_MLY_VW;

