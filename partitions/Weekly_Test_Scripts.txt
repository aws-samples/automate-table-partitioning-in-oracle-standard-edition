
/* Create main table to be partitioned */
CREATE TABLE STUDENT_WKLY
 (STUDENT_ID NUMBER(8,0) NOT NULL
 ,SALUTATION VARCHAR2(5)
 ,FIRST_NAME VARCHAR2(25)
 ,LAST_NAME VARCHAR2(25)  NOT NULL
 ,STREET_ADDRESS VARCHAR2(50)
 ,ZIP VARCHAR2(5) NOT NULL
 ,PHONE VARCHAR2(15)
 ,EMPLOYER VARCHAR2(50)
 ,REGISTRATION_DATE DATE  NOT NULL
 ,CREATED_BY VARCHAR2(30) NOT NULL
 ,CREATED_DATE DATE  NOT NULL
 ,MODIFIED_BY VARCHAR2(30)  NOT NULL
 ,MODIFIED_DATE DATE  NOT NULL
 );


/***
Primay key on partition main table 
***/

ALTER TABLE STUDENT_WKLY ADD CONSTRAINT STDTW_PK PRIMARY KEY (STUDENT_ID);


/***
Index on partition main table 
***/

CREATE INDEX STDTW_ZIP_IDX_I ON STUDENT_WKLY (ZIP);

Execute the procedure:
EXEC MANAGE_PARTITIONS.setup_partitions ('PARTSRVC', 'STUDENT_WKLY', 'STDTW', 'REGISTRATION_DATE', 'STUDENT_ID', 'STUDENT_WKLY_VW', 'W', '2020-12-01', 4, 8, 'Y', 'N', 'Y');


SELECT * FROM STUDENT_WKLY_VW;


INSERT INTO STUDENT_WKLY_VW VALUES (20201205,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-50,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 
INSERT INTO STUDENT_WKLY_VW VALUES (20201215,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-40,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

INSERT INTO STUDENT_WKLY_VW VALUES (20210110,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-30,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 
INSERT INTO STUDENT_WKLY_VW VALUES (20210112,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-20,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

INSERT INTO STUDENT_WKLY_VW VALUES (20210221,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-10,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 
INSERT INTO STUDENT_WKLY_VW VALUES (20210216,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

INSERT INTO STUDENT_WKLY_VW VALUES (20210222,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE+20,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 
INSERT INTO STUDENT_WKLY_VW VALUES (20210228,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE+40,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

INSERT INTO STUDENT_WKLY_VW VALUES (20200308,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE+50,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

SELECT * FROM STUDENT_WKLY_VW;

update STUDENT_WKLY_VW set first_name = first_name || ' - UPDATED' where student_id = 20201205;

SELECT * FROM STUDENT_WKLY_VW;

delete FROM STUDENT_WKLY_VW where student_id = 20210221;

SELECT * FROM STUDENT_WKLY_VW;

