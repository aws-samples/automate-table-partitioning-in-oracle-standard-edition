
/* Create main table to be partitioned */
CREATE TABLE STUDENT_DLY
 (STUDENT_ID NUMBER(8,0) NOT NULL
 ,SALUTATION VARCHAR2(5)
 ,FIRST_NAME VARCHAR2(25)
 ,LAST_NAME VARCHAR2(25)  NOT NULL
 ,STREET_ADDRESS VARCHAR2(50)
 ,ZIP VARCHAR2(5) NOT NULL
 ,PHONE VARCHAR2(15)
 ,EMPLOYER VARCHAR2(50)
 ,REGISTRATION_DATE DATE  NOT NULL
 ,CREATED_BY VARCHAR2(30) NOT NULL
 ,CREATED_DATE DATE  NOT NULL
 ,MODIFIED_BY VARCHAR2(30)  
 ,MODIFIED_DATE DATE  
 );


/***
Primay key on partition main table 
***/

ALTER TABLE STUDENT_DLY ADD CONSTRAINT STDTD_PK PRIMARY KEY (STUDENT_ID);


/***
Index on partition main table 
***/

CREATE INDEX STDTD_ZIP_IDX_I ON STUDENT_DLY (ZIP);

Execute the procedure:
EXEC MANAGE_PARTITIONS.setup_partitions ('PARTSRVC', 'STUDENT_DLY', 'STDTD', 'REGISTRATION_DATE', 'STUDENT_ID', 'STUDENT_DLY_VW', 'D', '2021-01-21', 30, 30, 'Y', 'N', 'Y');


SELECT * FROM STUDENT_DLY_VW;

INSERT INTO STUDENT_DLY_VW VALUES (20210105,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-25,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 
INSERT INTO STUDENT_DLY_VW VALUES (20210111,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-22,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

INSERT INTO STUDENT_DLY_VW VALUES (20210124,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-15,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 
INSERT INTO STUDENT_DLY_VW VALUES (20210126,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-10,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

INSERT INTO STUDENT_DLY_VW VALUES (20210128,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-7,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 
INSERT INTO STUDENT_DLY_VW VALUES (20210130,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE-5,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

INSERT INTO STUDENT_DLY_VW VALUES (20210202,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 
INSERT INTO STUDENT_DLY_VW VALUES (20210203,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE+20,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

INSERT INTO STUDENT_DLY_VW VALUES (20210214,'Mr.','TEST 111','Last name','101-09 120th St.','11419','718-555-5555','ABC Education Co.'
,SYSDATE+35,'ADMIN',SYSDATE,'ADMIN',SYSDATE); 

SELECT * FROM STUDENT_DLY_VW;

update STUDENT_DLY_VW set first_name = first_name || ' - UPDATED' where student_id = 20210124;

SELECT * FROM STUDENT_DLY_VW;

delete FROM STUDENT_DLY_VW where student_id = 20210130;

SELECT * FROM STUDENT_DLY_VW;

